if (self.CavalryLogger) { CavalryLogger.start_js(["JA0zp"]); }

__d("NavigationMetricsEnumJS",[],(function(b,c,d,e,f){c.__markCompiled&&c.__markCompiled(),f.exports={NAVIGATION_START:"navigationStart",UNLOAD_EVENT_START:"unloadEventStart",UNLOAD_EVENT_END:"unloadEventEnd",REDIRECT_START:"redirectStart",REDIRECT_END:"redirectEnd",FETCH_START:"fetchStart",DOMAIN_LOOKUP_START:"domainLookupStart",DOMAIN_LOOKUP_END:"domainLookupEnd",CONNECT_START:"connectStart",CONNECT_END:"connectEnd",SECURE_CONNECTION_START:"secureConnectionStart",REQUEST_START:"requestStart",RESPONSE_START:"responseStart",RESPONSE_END:"responseEnd",DOM_LOADING:"domLoading",DOM_INTERACTIVE:"domInteractive",DOM_CONTENT_LOADED_EVENT_START:"domContentLoadedEventStart",DOM_CONTENT_LOADED_EVENT_END:"domContentLoadedEventEnd",DOM_COMPLETE:"domComplete",LOAD_EVENT_START:"loadEventStart",LOAD_EVENT_END:"loadEventEnd"}}),null);
__d("PagePluginActions",[],(function(b,c,d,e,f){c.__markCompiled&&c.__markCompiled(),f.exports={PAGE_AVATAR:"page_avatar",PAGE_CTA:"page_cta",PAGE_LIKE:"page_like",PAGE_PERMALINK:"page_permalink",PAGE_SHARE:"page_share",PAGE_UNLIKE:"page_unlike"}}),null);
__d("PagePluginActionTypes",[],(function(b,c,d,e,f){c.__markCompiled&&c.__markCompiled(),f.exports={CLICK:"click"}}),null);
__d("PluginConnectButtonType",[],(function(b,c,d,e,f){c.__markCompiled&&c.__markCompiled(),f.exports={BLUE_BASE:1,WHITE_BASE:2}}),null);
__d("ResourceTimingMetricsEnumJS",[],(function(b,c,d,e,f){c.__markCompiled&&c.__markCompiled(),f.exports={START_TIME:"startTime",REDIRECT_START:"redirectStart",REDIRECT_END:"redirectEnd",FETCH_START:"fetchStart",DOMAIN_LOOKUP_START:"domainLookupStart",DOMAIN_LOOKUP_END:"domainLookupEnd",CONNECT_START:"connectStart",SECURE_CONNECTION_START:"secureConnectionStart",CONNECT_END:"connectEnd",REQUEST_START:"requestStart",RESPONSE_START:"responseStart",RESPONSE_END:"responseEnd"}}),null);
__d("SupportedClassicEmoji",[],(function(b,c,d,e,f){c.__markCompiled&&c.__markCompiled(),f.exports={"2196":1,"2197":1,"2198":1,"2199":1,"2600":1,"2601":1,"2614":1,"2615":1,"2660":1,"2663":1,"2665":1,"2666":1,"2668":1,"2702":1,"2708":1,"2709":1,"2716":1,"2728":1,"2733":1,"2734":1,"2753":1,"2754":1,"2755":1,"2757":1,"2764":1,"2934":1,"2935":1,"3297":1,"3299":1,"1f004":1,"1f192":1,"1f199":1,"1f19a":1,"1f201":1,"1f202":1,"1f21a":1,"1f22f":1,"1f233":1,"1f235":1,"1f236":1,"1f237":1,"1f238":1,"1f239":1,"1f23a":1,"1f250":1,"1f300":1,"1f302":1,"1f303":1,"1f304":1,"1f305":1,"1f306":1,"1f307":1,"1f308":1,"1f30a":1,"1f319":1,"1f31f":1,"1f331":1,"1f334":1,"1f335":1,"1f337":1,"1f338":1,"1f339":1,"1f33a":1,"1f33b":1,"1f33e":1,"1f340":1,"1f341":1,"1f342":1,"1f343":1,"1f345":1,"1f346":1,"1f349":1,"1f34a":1,"1f34e":1,"1f353":1,"1f354":1,"1f358":1,"1f359":1,"1f35a":1,"1f35b":1,"1f35c":1,"1f35d":1,"1f35e":1,"1f35f":1,"1f361":1,"1f362":1,"1f363":1,"1f366":1,"1f367":1,"1f370":1,"1f371":1,"1f372":1,"1f373":1,"1f374":1,"1f375":1,"1f376":1,"1f378":1,"1f37a":1,"1f37b":1,"1f380":1,"1f381":1,"1f383":1,"1f384":1,"1f385":1,"1f388":1,"1f389":1,"1f38c":1,"1f38d":1,"1f38e":1,"1f38f":1,"1f390":1,"1f392":1,"1f393":1,"1f3a1":1,"1f3a2":1,"1f3a4":1,"1f3a5":1,"1f3a6":1,"1f3a7":1,"1f3a8":1,"1f3a9":1,"1f3ab":1,"1f3ac":1,"1f3ad":1,"1f3af":1,"1f3b1":1,"1f3b5":1,"1f3b6":1,"1f3b7":1,"1f3b8":1,"1f3ba":1,"1f3bc":1,"1f3be":1,"1f3bf":1,"1f3c0":1,"1f3c1":1,"1f3c6":1,"1f3c8":1,"1f3e0":1,"1f3e1":1,"1f3e2":1,"1f3e3":1,"1f3e5":1,"1f3e6":1,"1f3e7":1,"1f3e8":1,"1f3e9":1,"1f3ea":1,"1f3eb":1,"1f3ec":1,"1f3ed":1,"1f3ef":1,"1f3f0":1,"1f40d":1,"1f40e":1,"1f411":1,"1f412":1,"1f414":1,"1f417":1,"1f418":1,"1f419":1,"1f41a":1,"1f41b":1,"1f41f":1,"1f420":1,"1f421":1,"1f425":1,"1f426":1,"1f427":1,"1f428":1,"1f429":1,"1f42b":1,"1f42c":1,"1f42d":1,"1f42e":1,"1f42f":1,"1f430":1,"1f431":1,"1f433":1,"1f434":1,"1f435":1,"1f436":1,"1f437":1,"1f438":1,"1f439":1,"1f43a":1,"1f43b":1,"1f440":1,"1f442":1,"1f443":1,"1f444":1,"1f445":1,"1f446":1,"1f447":1,"1f448":1,"1f449":1,"1f44a":1,"1f44b":1,"1f44c":1,"1f44d":1,"1f44e":1,"1f44f":1,"1f450":1,"1f451":1,"1f452":1,"1f454":1,"1f455":1,"1f457":1,"1f458":1,"1f459":1,"1f45c":1,"1f45f":1,"1f460":1,"1f461":1,"1f462":1,"1f463":1,"1f466":1,"1f467":1,"1f468":1,"1f469":1,"1f46b":1,"1f46e":1,"1f46f":1,"1f471":1,"1f472":1,"1f473":1,"1f474":1,"1f475":1,"1f476":1,"1f477":1,"1f478":1,"1f47b":1,"1f47c":1,"1f47d":1,"1f47e":1,"1f47f":1,"1f480":1,"1f482":1,"1f483":1,"1f484":1,"1f485":1,"1f488":1,"1f489":1,"1f48a":1,"1f48b":1,"1f48c":1,"1f48d":1,"1f48e":1,"1f48f":1,"1f490":1,"1f491":1,"1f492":1,"1f493":1,"1f494":1,"1f496":1,"1f497":1,"1f498":1,"1f499":1,"1f49a":1,"1f49b":1,"1f49c":1,"1f49d":1,"1f49e":1,"1f49f":1,"1f4a0":1,"1f4a1":1,"1f4a2":1,"1f4a3":1,"1f4a4":1,"1f4a6":1,"1f4a7":1,"1f4a8":1,"1f4a9":1,"1f4aa":1,"1f4b0":1,"1f4b2":1,"1f4b4":1,"1f4b5":1,"1f4ba":1,"1f4bb":1,"1f4bc":1,"1f4bd":1,"1f4be":1,"1f4bf":1,"1f4c0":1,"1f4d6":1,"1f4dd":1,"1f4de":1,"1f4e0":1,"1f4e1":1,"1f4e2":1,"1f4e3":1,"1f4e8":1,"1f4e9":1,"1f4ea":1,"1f4eb":1,"1f4ec":1,"1f4ed":1,"1f4ee":1,"1f4f1":1,"1f4f2":1,"1f4f3":1,"1f4f4":1,"1f4f6":1,"1f4f7":1,"1f4fa":1,"1f4fb":1,"1f4fc":1,"1f508":1,"1f50d":1,"1f50e":1,"1f50f":1,"1f510":1,"1f511":1,"1f512":1,"1f513":1,"1f514":1,"1f51e":1,"1f525":1,"1f528":1,"1f52b":1,"1f530":1,"1f531":1,"1f532":1,"1f533":1,"1f534":1,"1f535":1,"1f536":1,"1f537":1,"1f538":1,"1f539":1,"1f5fb":1,"1f5fc":1,"1f5fd":1,"1f601":1,"1f602":1,"1f603":1,"1f604":1,"1f606":1,"1f609":1,"1f60a":1,"1f60c":1,"1f60d":1,"1f60f":1,"1f612":1,"1f613":1,"1f614":1,"1f616":1,"1f618":1,"1f61a":1,"1f61c":1,"1f61d":1,"1f61e":1,"1f620":1,"1f621":1,"1f622":1,"1f623":1,"1f624":1,"1f625":1,"1f628":1,"1f629":1,"1f62a":1,"1f62b":1,"1f62d":1,"1f630":1,"1f631":1,"1f632":1,"1f633":1,"1f635":1,"1f637":1,"1f638":1,"1f639":1,"1f63a":1,"1f63b":1,"1f63c":1,"1f63d":1,"1f63f":1,"1f640":1,"1f64b":1,"1f64c":1,"1f64d":1,"1f64f":1,"1f680":1,"1f683":1,"1f684":1,"1f685":1,"1f689":1,"1f68c":1,"1f68f":1,"1f691":1,"1f692":1,"1f693":1,"1f695":1,"1f697":1,"1f699":1,"1f69a":1,"1f6a2":1,"1f6a4":1,"1f6a5":1,"1f6a7":1,"1f6ac":1,"1f6ad":1,"1f6b2":1,"1f6b9":1,"1f6ba":1,"1f6bb":1,"1f6bc":1,"1f6bd":1,"1f6be":1,"1f6c0":1,"25aa":1,"25ab":1,"25fb":1,"25fc":1,"25fd":1,"25fe":1,"260e":1,"261d":1,"263a":1,"267f":1,"26a0":1,"26a1":1,"26aa":1,"26ab":1,"26bd":1,"26be":1,"26c4":1,"26d4":1,"26ea":1,"26f2":1,"26f3":1,"26f5":1,"26fa":1,"26fd":1,"270a":1,"270b":1,"270c":1,"274c":1,"274e":1,"2764_fe0f":1,"27a1":1,"27bf":1,"2b05":1,"2b06":1,"2b07":1,"2b1b":1,"2b1c":1,"2b50":1,"2b55":1,"303d":1}}),null);
__d("PlatformDialog",["cx","DOMEventListener","DOMEvent","CSS"],function(a,b,c,d,f,g,cx){function h(j,k,l){i=this,this.$PlatformDialog1=j,this.$PlatformDialog2=k,this.$PlatformDialog3=!1,b("DOMEventListener").add(this.$PlatformDialog1,"submit",function(m){return this.$PlatformDialog3?void new(b("DOMEvent"))(m).kill():void(this.$PlatformDialog3=!0,l&&b("CSS").addClass(j,"_32qa"))}.bind(this))}b.__markCompiled&&b.__markCompiled();var i;h.getInstance=function(){return i},h.prototype.getForm=function(){return this.$PlatformDialog1},h.prototype.getDisplay=function(){return this.$PlatformDialog2},h.prototype.hasBeenSubmitted=function(){return this.$PlatformDialog3},h.RESPONSE="platform/dialog/response",f.exports=h},null);
__d("GeneratedLoggerUtils",["invariant","Banzai"],function(a,b,c,d,e,f,g){"use strict";b.__markCompiled&&b.__markCompiled();var h=b("Banzai").post;-1<window.location.search.indexOf("showlog")&&(h=function(j,k,l){b("Banzai").post(j,k,l)});var i={log:h,serializeVector:function j(k){return k?Array.isArray(k)?k:k.toArray?k.toArray():"object"==typeof k&&k["function"==typeof Symbol?Symbol.iterator:"@@iterator"]?Array.from(k):void g(0):k},serializeMap:function j(k){if(!k)return k;if(k.toJS)return k.toJS();if("object"==typeof k&&k["function"==typeof Symbol?Symbol.iterator:"@@iterator"]){for(var l={},m=k,n=Array.isArray(m),o=0,m=n?m:m["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=m.length)break;p=m[o++]}else{if(o=m.next(),o.done)break;p=o.value}var q=p;l[q[0]]=q[1]}return l}return"[object Object]"===Object.prototype.toString.call(k)?k:void g(0)},checkExtraDataFieldNames:function j(k,l){Object.keys(k).forEach(function(m){!l.hasOwnProperty(m)?void 0:g(0)})},warnForInvalidFieldNames:function j(k,l,m,n){var o,p},throwIfNull:function j(k){return k?void 0:g(0),k}};e.exports=i},null);
__d("PluginLoggedOutUserTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],function(a,b,c,d,e){"use strict";function f(){this.clear()}b.__markCompiled&&b.__markCompiled(),f.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:PluginLoggedOutUserLoggerConfig",this.$PluginLoggedOutUserTypedLogger1,b("Banzai").BASIC)},f.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:PluginLoggedOutUserLoggerConfig",this.$PluginLoggedOutUserTypedLogger1,b("Banzai").VITAL)},f.prototype.clear=function(){return this.$PluginLoggedOutUserTypedLogger1={},this},f.prototype.updateData=function(h){return this.$PluginLoggedOutUserTypedLogger1=babelHelpers["extends"]({},this.$PluginLoggedOutUserTypedLogger1,h),this},f.prototype.setHref=function(h){return this.$PluginLoggedOutUserTypedLogger1.href=h,this},f.prototype.setIsSDK=function(h){return this.$PluginLoggedOutUserTypedLogger1.is_sdk=h,this},f.prototype.setPluginAppID=function(h){return this.$PluginLoggedOutUserTypedLogger1.plugin_app_id=h,this},f.prototype.setPluginName=function(h){return this.$PluginLoggedOutUserTypedLogger1.plugin_name=h,this},f.prototype.setRefererURL=function(h){return this.$PluginLoggedOutUserTypedLogger1.referer_url=h,this},f.prototype.setVC=function(h){return this.$PluginLoggedOutUserTypedLogger1.vc=h,this},f.prototype.updateExtraData=function(h){return h=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(h)),b("GeneratedLoggerUtils").checkExtraDataFieldNames(h,g),this.$PluginLoggedOutUserTypedLogger1=babelHelpers["extends"]({},this.$PluginLoggedOutUserTypedLogger1,h),this},f.prototype.addToExtraData=function(h,i){var j={};return j[h]=i,this.updateExtraData(j)};var g={href:!0,is_sdk:!0,plugin_app_id:!0,plugin_name:!0,referer_url:!0,vc:!0};e.exports=f},null);
__d("ArbiterFrame",[],function(a,b,c,d,f){b.__markCompiled&&b.__markCompiled(),f.exports={inform:function g(h,j,k){var l,m=parent.frames,n=m.length;j.crossFrame=!0;for(var o=0;o<n;o++){l=m[o];try{if(!l||l==window)continue;l.require?l.require("Arbiter").inform(h,j,k):l.ServerJSAsyncLoader&&l.ServerJSAsyncLoader.wakeUp(h,j,k)}catch(p){}}}}},null);
__d("FormSubmit",["AsyncRequest","AsyncResponse","CSS","DOMQuery","Event","Form","Parent","trackReferrer"],function(a,b,c,d,e){b.__markCompiled&&b.__markCompiled(),e.exports={send:function f(g,h){var i=(b("Form").getAttribute(g,"method")||"GET").toUpperCase();h=b("Parent").byTag(h,"button")||h;var j=b("Parent").byClass(h,"stat_elem")||g;if(b("CSS").hasClass(j,"async_saving"))return null;if(h&&(h.form!==g||"INPUT"!=h.nodeName&&"BUTTON"!=h.nodeName||"submit"!=h.type)){var k=b("DOMQuery").scry(g,".enter_submit_target")[0];k&&(h=k)}var l=b("Form").serialize(g,h);b("Form").setDisabled(g,!0);var m=b("Form").getAttribute(g,"ajaxify")||b("Form").getAttribute(g,"action"),n=!!b("Form").getAttribute(g,"data-cors");b("trackReferrer")(g,m);var o=new(b("AsyncRequest"))().setAllowCrossOrigin(n).setURI(m).setData(l).setNectarModuleDataSafe(g).setReadOnly("GET"==i).setMethod(i).setRelativeTo(g).setStatusElement(j).setInitialHandler(b("Form").setDisabled.bind(null,g,!1)).setHandler(function(p){b("Event").fire(g,"success",{response:p})}).setErrorHandler(function(p){!1!==b("Event").fire(g,"error",{response:p})&&b("AsyncResponse").defaultErrorHandler(p)}).setFinallyHandler(b("Form").setDisabled.bind(null,g,!1));return o.send(),o}}},null);
__d('Popup',[],function(a,b,c,d,e){b.__markCompiled&&b.__markCompiled(),e.exports={open:function f(g,i,j,k){var l=document.body,m='screenX'in window?window.screenX:window.screenLeft,n='screenY'in window?window.screenY:window.screenTop,o='outerWidth'in window?window.outerWidth:l.clientWidth,p='outerHeight'in window?window.outerHeight:l.clientHeight-22,q=Math.floor(m+(o-i)/2),r=Math.floor(n+(p-j)/2.5);return window.open(g,k||'_blank',['width='+i,'height='+j,'left='+q,'top='+r,'scrollbars'].join(','))}}},null);
__d("PopupLink",["DOMEvent","DOMEventListener","Popup"],function(a,b,c,d,f){b.__markCompiled&&b.__markCompiled(),f.exports={listen:function g(i,j,k){b("DOMEventListener").add(i,"click",function(l){new(b("DOMEvent"))(l).kill(),b("Popup").open(i.href,j,k)})}}},null);
__d("PopupWindow",["DOMDimensions","DOMQuery","Layer","Popup","getViewportDimensions"],function(a,b,c,d,f){b.__markCompiled&&b.__markCompiled();var g={_opts:{allowShrink:!0,strategy:"vector",timeout:100,widthElement:null},init:function h(i){Object.assign(g._opts,i),setInterval(g._resizeCheck,g._opts.timeout)},_resizeCheck:function h(){var i=b("getViewportDimensions")(),j=g._getDocumentSize(),k=b("Layer").getTopmostLayer();if(k){var l=k.getRoot().firstChild,m=b("DOMDimensions").getElementDimensions(l);m.height+=b("DOMDimensions").measureElementBox(l,"height",!0,!0,!0),m.width+=b("DOMDimensions").measureElementBox(l,"width",!0,!0,!0),j.height=Math.max(j.height,m.height),j.width=Math.max(j.width,m.width)}var n=j.height-i.height,o=j.width-i.width;if(0>o&&!g._opts.widthElement&&(o=0),o=1<o?o:0,!g._opts.allowShrink&&0>n&&(n=0),n||o)try{window.console&&window.console.firebug,window.resizeBy(o,n),o&&window.moveBy(o/-2,0)}catch(p){}},_getDocumentSize:function h(){var i=b("DOMDimensions").getDocumentDimensions();if("offsetHeight"===g._opts.strategy&&(i.height=document.body.offsetHeight),g._opts.widthElement){var j=b("DOMQuery").scry(document.body,g._opts.widthElement)[0];j&&(i.width=b("DOMDimensions").getElementDimensions(j).width)}var k=a.Dialog;return k&&k.max_bottom&&k.max_bottom>i.height&&(i.height=k.max_bottom),i},open:function h(i,j,k,l){return b("Popup").open(i,k,j,l)}};f.exports=g},null);
__d("Queue",[],function(a,b,c,d,e){function f(h){this._opts=babelHelpers["extends"]({interval:0,processor:null},h),this._queue=[],this._stopped=!0}b.__markCompiled&&b.__markCompiled();var g={};f.prototype._dispatch=function(){if(!(this._stopped||0===this._queue.length)){if(!this._opts.processor)throw this._stopped=!0,new Error("No processor available");if(this._opts.interval)this._opts.processor.call(this,this._queue.shift()),this._timeout=setTimeout(this._dispatch.bind(this),this._opts.interval);else for(;this._queue.length;)this._opts.processor.call(this,this._queue.shift())}},f.prototype.enqueue=function(h){return this._opts.processor&&!this._stopped?this._opts.processor.call(this,h):this._queue.push(h),this},f.prototype.start=function(h){return h&&(this._opts.processor=h),this._stopped=!1,this._dispatch(),this},f.prototype.isStarted=function(){return!this._stopped},f.prototype.dispatch=function(){this._dispatch(!0)},f.prototype.stop=function(h){return this._stopped=!0,h&&clearTimeout(this._timeout),this},f.prototype.merge=function(h,i){return this._queue[i?"unshift":"push"].apply(this._queue,h._queue),h._queue=[],this._dispatch(),this},f.prototype.getLength=function(){return this._queue.length},f.get=function(h,i){var j;return j=h in g?g[h]:g[h]=new f(i),j},f.exists=function(h){return h in g},f.remove=function(h){return delete g[h]},e.exports=f},null);
__d("TextInputControl",["DOMControl","Event","Input","debounce"],function(a,b,c,d,e){var g,h;function f(i){h.constructor.call(this,i);var j=this.getRoot(),k=b("debounce")(this.update.bind(this),0);b("Event").listen(j,{input:k,keydown:k,paste:k})}b.__markCompiled&&b.__markCompiled(),g=babelHelpers.inherits(f,b("DOMControl")),h=g&&g.prototype,f.prototype.setMaxLength=function(i){return b("Input").setMaxLength(this.getRoot(),i),this},f.prototype.getValue=function(){return b("Input").getValue(this.getRoot())},f.prototype.isEmpty=function(){return b("Input").isEmpty(this.getRoot())},f.prototype.setValue=function(i){return b("Input").setValue(this.getRoot(),i),this.update(),this},f.prototype.clear=function(){return this.setValue("")},f.prototype.setPlaceholderText=function(i){return b("Input").setPlaceholder(this.getRoot(),i),this},e.exports=f},null);
__d("transferTextStyles",["Style"],function(a,b,c,d,e){b.__markCompiled&&b.__markCompiled();var f={fontFamily:null,fontSize:null,fontStyle:null,fontWeight:null,lineHeight:null,wordWrap:null};e.exports=function(g,h){for(var i in f)f.hasOwnProperty(i)&&(f[i]=b("Style").get(g,i));b("Style").apply(h,f)}},null);
__d("TextMetrics",["DOM","Style","UserAgent","transferTextStyles"],function(a,b,c,d,e){function f(h){var i=h.clientWidth,j="border-box"==b("Style").get(h,"-moz-box-sizing");if(j&&b("UserAgent").isBrowser("Firefox < 29"))return i;var k=b("Style").getFloat(h,"paddingLeft")+b("Style").getFloat(h,"paddingRight");return i-k}function g(h,i){this.$TextMetrics1=h,this.$TextMetrics2=!!i;var j="textarea",k="textMetrics";this.$TextMetrics2&&(j="div",k+=" textMetricsInline"),this.$TextMetrics3=b("DOM").create(j,{className:k}),b("transferTextStyles")(h,this.$TextMetrics3),document.body.appendChild(this.$TextMetrics3)}b.__markCompiled&&b.__markCompiled(),g.prototype.measure=function(h){var i=this.$TextMetrics1,j=this.$TextMetrics3;if(h=(h||i.value)+"...",!this.$TextMetrics2){var k=f(i);b("Style").set(j,"width",Math.max(k,0)+"px")}return"TEXTAREA"===i.nodeName?j.value=h:b("DOM").setContent(j,h),{width:j.scrollWidth,height:j.scrollHeight}},g.prototype.destroy=function(){b("DOM").remove(this.$TextMetrics3)},e.exports=g},null);
__d("classWithMixins",[],function(a,b,c,d,e){b.__markCompiled&&b.__markCompiled(),e.exports=function(f,g){var h=function(){f.apply(this,arguments)};return h.prototype=Object.assign(Object.create(f.prototype),g.prototype),h}},null);
__d("TextAreaControl",["Arbiter","ArbiterMixin","CSS","DOMControl","Event","Style","TextInputControl","TextMetrics","classWithMixins","mixin"],function(a,b,c,d,e){var h,i;function f(j,k){return b("Style").getFloat(j,k)||0}function g(j){i.constructor.call(this,j),this.autogrow=b("CSS").hasClass(j,"uiTextareaAutogrow"),this.autogrowWithPlaceholder=b("CSS").hasClass(j,"uiTextareaAutogrowWithPlaceholder"),this.width=null,b("Event").listen(j,"focus",this._handleFocus.bind(this))}b.__markCompiled&&b.__markCompiled(),h=babelHelpers.inherits(g,b("classWithMixins")(b("TextInputControl"),b("mixin")(b("ArbiterMixin")))),i=h&&h.prototype,g.prototype.setAutogrow=function(j){return this.autogrow=j,this},g.prototype.onupdate=function(){i.onupdate.call(this),this.updateHeight()},g.prototype.updateHeight=function(){if(this.autogrow){var j=this.getRoot();this.metrics||(this.metrics=new(b("TextMetrics"))(j)),"undefined"==typeof this.initialHeight&&(this.isBorderBox="border-box"===b("Style").get(j,"box-sizing")||"border-box"===b("Style").get(j,"-moz-box-sizing")||"border-box"===b("Style").get(j,"-webkit-box-sizing"),this.borderBoxOffset=f(j,"padding-top")+f(j,"padding-bottom")+f(j,"border-top-width")+f(j,"border-bottom-width"),this.initialHeight=j.offsetHeight-this.borderBoxOffset);var k=null;k=(!j.value||0===j.value.length)&&this.autogrowWithPlaceholder?this.metrics.measure(j.placeholder):this.metrics.measure();var l=Math.max(this.initialHeight,k.height);this.isBorderBox&&(l+=this.borderBoxOffset),this.maxHeight&&l>this.maxHeight&&(l=this.maxHeight,b("Arbiter").inform("maxHeightExceeded",{textArea:j})),l!==this.height&&(this.height=l,b("Style").set(j,"height",l+"px"),b("Arbiter").inform("reflow"),this.inform("resize"))}else this.metrics&&(this.metrics.destroy(),this.metrics=null)},g.prototype.resetHeight=function(){this.height=-1,this.update()},g.prototype.setMaxHeight=function(j){this.maxHeight=j},g.prototype.setAutogrowWithPlaceholder=function(j){this.autogrowWithPlacedholder=j},g.prototype._handleFocus=function(){this.width=null},g.getInstance=function(j){return b("DOMControl").getInstance(j)||new g(j)},e.exports=g},null);
__d("Log",["sprintf"],function(a,b,c,d,e){function f(i,j){var k=Array.prototype.slice.call(arguments,2),l=b("sprintf").apply(null,k),m=window.console;m&&h.level>=j&&m[i in m?i:"log"](l)}b.__markCompiled&&b.__markCompiled();var g={DEBUG:3,INFO:2,WARNING:1,ERROR:0},h={level:-1,Level:g,debug:f.bind(null,"debug",g.DEBUG),info:f.bind(null,"info",g.INFO),warn:f.bind(null,"warn",g.WARNING),error:f.bind(null,"error",g.ERROR)};e.exports=h},null);
__d('resolveWindow',[],function(a,b,c,d,e){b.__markCompiled&&b.__markCompiled(),e.exports=function(f){var g=window,h=f.split('.');try{for(var j=0;j<h.length;j++){var k=h[j],l=/^frames\[[\'\"]?([a-zA-Z0-9\-_]+)[\'\"]?\]$/.exec(k);if(l)g=g.frames[l[1]];else if('opener'===k||'parent'===k||'top'===k)g=g[k];else return null}}catch(m){return null}return g}},null);
__d("XD",["Arbiter","DOM","DOMDimensions","Log","PHPQuerySerializer","URI","Queue","isFacebookURI","isInIframe","resolveWindow"],function(a,b,c,d,f){b.__markCompiled&&b.__markCompiled();var g="fb_xdm_frame_"+location.protocol.replace(":",""),h={_callbacks:[],_opts:{autoResize:!1,allowShrink:!0,channelUrl:null,hideOverflow:!1,resizeTimeout:1000,resizeWidth:!1,expectResizeAck:!1,resizeAckTimeout:6000},_lastResizeAckId:0,_resizeCount:0,_resizeTimestamp:0,_shrinker:null,init:function k(l){this._opts=babelHelpers["extends"]({},this._opts,l),this._opts.autoResize&&this._startResizeMonitor(),b("Arbiter").subscribe("Connect.Unsafe.resize.ack",function(m,n){n.id||(n.id=this._resizeCount),n.id>this._lastResizeAckId&&(this._lastResizeAckId=n.id)}.bind(this))},getQueue:function k(){return this._queue||(this._queue=new(b("Queue"))),this._queue},setChannelUrl:function k(l){this.getQueue().start(function(m){return this.send(m,l)}.bind(this))},send:function k(l,m){if(m=m||this._opts.channelUrl,!m)return void this.getQueue().enqueue(l);var n={},o=new(b("URI"))(m);Object.assign(n,l,b("PHPQuerySerializer").deserialize(o.getFragment()));var p=new(b("URI"))(n.origin).getOrigin(),q=b("resolveWindow")(n.relation.replace(/^parent\./,"")),r=50,s=function(){var t=q.frames[g];try{t.proxyMessage(b("PHPQuerySerializer").serialize(n),p)}catch(u){--r?setTimeout(s,100):b("Log").warn("No such frame \""+g+"\" to proxyMessage to")}};s()},_computeSize:function k(){var l=b("DOMDimensions").getDocumentDimensions(),m=0;if(this._opts.resizeWidth){var n=document.body;if(n.clientWidth<n.scrollWidth)m=l.width;else for(var o=n.childNodes,p=0;p<o.length;p++){var q=o[p],r=q.offsetLeft+q.offsetWidth;r>m&&(m=r)}m=Math.max(m,h.forced_min_width)}return l.width=m,this._opts.allowShrink&&(!this._shrinker&&(this._shrinker=b("DOM").create("div")),b("DOM").appendContent(document.body,this._shrinker),l.height=Math.max(this._shrinker.offsetTop,0)),l},_startResizeMonitor:function k(){var l,m=document.documentElement;this._opts.hideOverflow&&(m.style.overflow="hidden",document.body.style.overflow="hidden");var n=function(){var o=this._computeSize(),p=Date.now(),q=this._lastResizeAckId<this._resizeCount&&p-this._resizeTimestamp>this._opts.resizeAckTimeout;if(!l||this._opts.expectResizeAck&&q||this._opts.allowShrink&&l.width!=o.width||!this._opts.allowShrink&&l.width<o.width||this._opts.allowShrink&&l.height!=o.height||!this._opts.allowShrink&&l.height<o.height){l=o,this._resizeCount++,this._resizeTimestamp=p;var r={type:"resize",height:o.height,ackData:{id:this._resizeCount}};o.width&&0!=o.width&&(r.width=o.width);try{if(b("isFacebookURI")(new(b("URI"))(document.referrer))&&b("isInIframe")()&&window.name&&window.parent.location&&window.parent.location.toString&&b("isFacebookURI")(new(b("URI"))(window.parent.location)))for(var s=window.parent.document.getElementsByTagName("iframe"),t=0;t<s.length;t=t+1)s[t].name==window.name&&(this._opts.resizeWidth&&(s[t].style.width=r.width+"px"),s[t].style.height=r.height+"px");this.send(r)}catch(u){this.send(r)}}}.bind(this);n(),setInterval(n,this._opts.resizeTimeout)}},j=babelHelpers["extends"]({},h);f.exports.UnverifiedXD=j,f.exports.XD=h,a.UnverifiedXD=j,a.XD=h},null);
__d("ImageTimingHelper",["Arbiter","BigPipe","URI"],function(a,b,c,d,f){b.__markCompiled&&b.__markCompiled();var g={},h={};b("Arbiter").subscribe(b("BigPipe").Events.init,function(i,j){j.lid&&"0"!==j.lid&&j.arbiter.subscribe("images_displayed",function(k,l){var m=g[l.lid];m||(m=g[l.lid]=[]),l.images.forEach(function(n){try{var o=new(b("URI"))(n);n=o.setFragment("").toString()}catch(p){return}h[n]||(h[n]=!0,m.push({pagelet:l.pagelet,timeslice:l.timeslice,ts:l.ts,uri:n}))})})}),f.exports.getImageTimings=function(i){return g[i]||[]}},null);
__d("PageletEventsHelper",["Arbiter","PageletEventConstsJS"],function(a,b,c,d,e){function f(){return{pagelets:{},categories:{},phase_start:{},display_resources:{},all_resources:{}}}function g(k,l,m,n){i[n].pagelets[l]==void 0&&(i[n].pagelets[l]={}),i[n].pagelets[l][k]=m}function h(k){k.subscribe("pagelet_event",function(l,m){var n=m.event,o=m.ts,p=m.id,q=m.lid,r=m.phase,s=m.categories,t=m.allResources,u=m.displayResources;g(n,p,o,q);var v=i[q],w=v.pagelets[p];n===b("PageletEventConstsJS").ARRIVE_END&&(w.phase=r,v.all_resources[p]=t,v.display_resources[p]=u),(n===b("PageletEventConstsJS").ONLOAD_END||n===b("PageletEventConstsJS").DISPLAY_END)&&s&&s.forEach(function(x){v.categories[x]==void 0&&(v.categories[x]={}),v.categories[x][n]=o})}),k.subscribe("phase_begin",function(l,m){i[m.lid].phase_start[m.phase]=m.ts})}b.__markCompiled&&b.__markCompiled();var i={},j=!1;e.exports={init:function k(){j||(b("Arbiter").subscribe("BigPipe/init",function(l,m){var n=m.lid,o=m.arbiter;i[n]=f(),h(o)}),j=!0)},getMetrics:function k(l){return i[l]?JSON.parse(JSON.stringify(i[l])):null}}},null);
__d("Plugin",["Arbiter","ArbiterFrame"],function(a,b,c,d,f){b.__markCompiled&&b.__markCompiled();var g={CONNECT:"platform/plugins/connect",DISCONNECT:"platform/plugins/disconnect",ERROR:"platform/plugins/error",RELOAD:"platform/plugins/reload",DIALOG:"platform/plugins/dialog",connect:function h(i,j){var k={identifier:i,href:i,story_fbid:j};b("Arbiter").inform(g.CONNECT,k),b("ArbiterFrame").inform(g.CONNECT,k)},disconnect:function h(i,j){var k={identifier:i,href:i,story_fbid:j};b("Arbiter").inform(g.DISCONNECT,k),b("ArbiterFrame").inform(g.DISCONNECT,k)},error:function h(i,j){b("Arbiter").inform(g.ERROR,{action:i,content:j})},reload:function h(i){b("Arbiter").inform(g.RELOAD,{reloadUrl:i||""}),b("ArbiterFrame").inform(g.RELOAD,{reloadUrl:i||""})},reloadOtherPlugins:function h(i,j){b("ArbiterFrame").inform(g.RELOAD,{reloadUrl:"",reload:i||"",identifier:j||""})}};f.exports=g},null);
__d("PluginCSSReflowHack",["Style"],function(a,b,c,d,e){b.__markCompiled&&b.__markCompiled(),e.exports={trigger:function f(g){setTimeout(function(){var h="border-bottom-width",i=b("Style").get(g,h);b("Style").set(g,h,parseInt(i,10)+1+"px");var j=g.offsetHeight;return b("Style").set(g,h,i),j},1000)}}},null);
__d("StrSet",[],function(c,d,e,f,g){function h(j){this.$StrSet2={},this.$StrSet1=0,j&&this.addAll(j)}d.__markCompiled&&d.__markCompiled(),h.prototype.add=function(j){return this.$StrSet2.hasOwnProperty(j)||(this.$StrSet2[j]=!0,this.$StrSet1++),this},h.prototype.addAll=function(j){return j.forEach(this.add,this),this},h.prototype.remove=function(j){return this.$StrSet2.hasOwnProperty(j)&&(delete this.$StrSet2[j],this.$StrSet1--),this},h.prototype.removeAll=function(j){return j.forEach(this.remove,this),this},h.prototype.toArray=function(){return Object.keys(this.$StrSet2)},h.prototype.toMap=function(j){var k={};return Object.keys(this.$StrSet2).forEach(function(l){k[l]="function"==typeof j?j(l):j||!0}),k},h.prototype.contains=function(j){return this.$StrSet2.hasOwnProperty(j)},h.prototype.count=function(){return this.$StrSet1},h.prototype.clear=function(){return this.$StrSet2={},this.$StrSet1=0,this},h.prototype.clone=function(){return new h(this)},h.prototype.forEach=function(j,k){Object.keys(this.$StrSet2).forEach(j,k)},h.prototype.map=function(j,k){return Object.keys(this.$StrSet2).map(j,k)},h.prototype.some=function(j,k){return Object.keys(this.$StrSet2).some(j,k)},h.prototype.every=function(j,k){return Object.keys(this.$StrSet2).every(j,k)},h.prototype.filter=function(j,k){return new h(Object.keys(this.$StrSet2).filter(j,k))},h.prototype.union=function(j){return this.clone().addAll(j)},h.prototype.intersect=function(j){return this.filter(function(k){return j.contains(k)})},h.prototype.difference=function(j){return j.filter(function(k){return!this.contains(k)}.bind(this))},h.prototype.equals=function(j){var k=function(o,p){return o===p?0:o<p?-1:1},l=this.toArray(),m=j.toArray();if(l.length!==m.length)return!1;var n=l.length;for(l=l.sort(k),m=m.sort(k);n--;)if(l[n]!==m[n])return!1;return!0},g.exports=h},null);
__d("PlatformBaseVersioning",["invariant","PlatformVersions","getObjectValues","StrSet"],function(a,b,c,d,e,f,g){function h(m,n){return n==b("PlatformVersions").versions.UNVERSIONED?m:(i.contains(n)?void 0:g(0),0!==m.indexOf("/")&&(m="/"+m),"/"+n+m)}b.__markCompiled&&b.__markCompiled();var i=new(b("StrSet"))(b("getObjectValues")(b("PlatformVersions").versions)),j=location.pathname,k=j.substring(1,j.indexOf("/",1)),l=i.contains(k)?k:b("PlatformVersions").versions.UNVERSIONED;e.exports={addVersionToPath:h,getLatestVersion:function m(){return b("PlatformVersions").LATEST},versionAwareURI:function m(n){return n.setPath(h(n.getPath(),l))},versionAwarePath:function m(n){return h(n,l)},getUnversionedPath:function(m){return i.contains(m.substring(1,m.indexOf("/",1)))?m.substring(m.indexOf("/",1)):m}}},null);
__d("PlatformWidgetEndpoint",["PlatformBaseVersioning"],function(a,b,c,d,e){b.__markCompiled&&b.__markCompiled(),e.exports={dialog:function(f,g){return b("PlatformBaseVersioning").versionAwarePath("/dialog/"+f+(g?"/"+g:""))},plugins:function(f,g){return b("PlatformBaseVersioning").versionAwarePath("/plugins/"+f+(g?"/"+g:""))},isPluginEndpoint:function(f){return /^\/plugins\//.test(b("PlatformBaseVersioning").getUnversionedPath(f))},isDialogEndpoint:function(f){return /^\/dialog\//.test(b("PlatformBaseVersioning").getUnversionedPath(f))}}},null);
__d("PluginFlyout",["csx","Arbiter","Button","CSS","DOM","DOMEvent","DOMEventListener","Focus","FormSubmit","Plugin","TextAreaControl"],function(a,b,c,d,f,g,csx){function h(m,n,o){var p=this,q=j(b("Plugin").CONNECT,function(r,s){b("Arbiter").unsubscribe(q),p.init(m,n,o),p.connect(r,s)},i);j(b("Plugin").DIALOG,function(){p.init(m,n,o),p.toggle()},i)}b.__markCompiled&&b.__markCompiled();var i=b("Arbiter").SUBSCRIBE_NEW,j=b("Arbiter").subscribe,k=b("Arbiter").inform,l=function(m,n){return b("DOMEventListener").add(m,"click",n)};Object.assign(h.prototype,{init:function m(n,o,p){if(!this.initialized){this.initialized=!0,b("DOM").appendContent(n,JSON.parse(p));var q=b("DOM").find(n,"form"),r=b("DOM").find(q,"._56zw"),s=b("DOM").find(q,"._56zx"),t=b("DOM").find(q,"._42x4"),u=b("TextAreaControl").getInstance(t);b("DOMEventListener").add(t,"keyup",function(){b("Button").setEnabled(r,!!u.getValue())}),b("DOMEventListener").add(window,"keydown",function(y){27===y.keyCode&&w()}),b("DOMEventListener").add(q,"submit",function(y){new(b("DOMEvent"))(y).kill(),b("FormSubmit").send(q)});var v="tiny"===o?b("DOM").find(document.body,".pluginPostFlyoutPrompt"):null;this.flyout=n,this.form=q,this.post_button=r,this.prompt=v;var w=this.hide.bind(this),x=this.show.bind(this);l(s,function(y){new(b("DOMEvent"))(y).kill(),w()}),v&&l(v,function(y){new(b("DOMEvent"))(y).kill(),x()}),j(b("Plugin").CONNECT,this.connect.bind(this),i),j(b("Plugin").DISCONNECT,function(){w()},i),j(h.SUCCESS,function(){w(),v&&b("CSS").hide(v)},i),j(b("Plugin").ERROR,function(y,z){"comment"!==z.action||(b("DOM").setContent(b("DOM").find(q,"._56zy"),z.content),b("CSS").hide(r))},i)}},connect:function m(n,o){o.crossFrame||(this.prompt&&b("CSS").show(this.prompt),!o.story_fbid&&this.show())},show:function m(){this.shown=!0,b("CSS").show(this.flyout),b("CSS").show(this.post_button);var n=b("DOM").scry(this.form,"._5jjo");n?b("Focus").set(n[0]):b("Focus").set(this.form.comment),k(h.SHOW)},hide:function m(){this.shown=!1,b("CSS").hide(this.flyout),k(h.HIDE)},toggle:function m(){this.shown?this.hide():this.show()}}),Object.assign(h,{SUCCESS:"platform/plugins/flyout/success",SHOW:"platform/plugins/flyout/show",HIDE:"platform/plugins/flyout/hide",success:function m(){k(h.SUCCESS)}}),f.exports=h},null);
__d("PluginMessage",["DOMEventListener"],function(a,b,c,d,e){b.__markCompiled&&b.__markCompiled(),e.exports={listen:function f(){b("DOMEventListener").add(window,"message",function(g){if(/\.facebook\.com$/.test(g.origin)&&/^FB_POPUP:/.test(g.data)){var h=JSON.parse(g.data.substring(9));"reload"in h&&/^https?:/.test(h.reload)&&document.location.replace(h.reload)}})}}},null);
__d("PluginOptin",["DOMEvent","DOMEventListener","PluginMessage","PopupWindow","URI","UserAgent_DEPRECATED","PlatformWidgetEndpoint","PluginLoggedOutUserTypedLogger"],function(a,b,c,d,f){function g(h,i){Object.assign(this,{return_params:b("URI").getRequestURI().getQueryData(),login_params:{},optin_params:{},plugin:h,api_key:i}),this.addReturnParams({ret:"optin"}),this.login_params.nux=!1,delete this.return_params.hash}b.__markCompiled&&b.__markCompiled(),Object.assign(g.prototype,{addReturnParams:function h(i){return Object.assign(this.return_params,i),this},addLoginParams:function h(i){return Object.assign(this.login_params,i),this},addOptinParams:function h(i){return Object.assign(this.optin_params,i),this},start:function h(){var i=this.api_key||127760087237610,j=new(b("URI"))(b("PlatformWidgetEndpoint").dialog("plugin.optin")).addQueryData(this.optin_params).addQueryData({app_id:i,secure:b("URI").getRequestURI().isSecure(),social_plugin:this.plugin,return_params:JSON.stringify(this.return_params),login_params:JSON.stringify(this.login_params)});return b("UserAgent_DEPRECATED").mobile()?j.setSubdomain("m"):j.addQueryData({display:"popup"}),null!==this.return_params.act&&"send"===this.return_params.act&&new(b("PluginLoggedOutUserTypedLogger"))().setPluginAppID(i).setPluginName(this.return_params.act).setHref(this.return_params.href).logVital(),this.popup=b("PopupWindow").open(j.toString(),420,450),b("PluginMessage").listen(),this}}),g.starter=function(h,i,j,k){var l=new g(h);return l.addReturnParams(i||{}),l.addLoginParams(j||{}),l.addOptinParams(k||{}),l.start.bind(l)},g.listen=function(h,i,j,k,l){b("DOMEventListener").add(h,"click",function(m){new(b("DOMEvent"))(m).kill(),g.starter(i,j,k,l)()})},f.exports=g},null);
__d("PluginConnectButton",["csx","cx","Arbiter","CSS","DOM","DOMDimensions","DOMEvent","DOMEventListener","Focus","FormSubmit","PlatformWidgetEndpoint","Plugin","PluginConnectButtonType","PluginFlyout","PluginOptin","Style","URI","getElementPosition"],function(a,b,c,d,f,g,csx,cx){function h(l){this.config=l,this.busy=!1;var m=b("DOM").find(l.form,".pluginConnectButton");this.buttons=m,this.node_connected=b("DOM").find(m,".pluginConnectButtonConnected"),this.node_disconnected=b("DOM").find(m,".pluginConnectButtonDisconnected");var n=function(p){new(b("DOMEvent"))(p).kill(),this.busy||(this.submit(),this.busy=this.canpersonalize)}.bind(this);k(this.node_disconnected,n),l.buttontype===b("PluginConnectButtonType").BLUE_BASE?k(b("DOM").find(m,".pluginButtonX button"),n):l.buttontype===b("PluginConnectButtonType").WHITE_BASE&&k(this.node_connected,n),k(this.node_connected,function(p){return b("Arbiter").inform(b("Plugin").DIALOG,p)});var o=this.update.bind(this);j(b("Plugin").CONNECT,o,i),j(b("Plugin").DISCONNECT,o,i),j(b("Plugin").ERROR,this.error.bind(this),i),j("Connect.Unsafe.xd/reposition",this.flip.bind(this)),j(b("PluginFlyout").HIDE,this.hideFlyout.bind(this)),l.autosubmit&&setTimeout(this.submit.bind(this),0)}b.__markCompiled&&b.__markCompiled();var i=b("Arbiter").SUBSCRIBE_NEW,j=b("Arbiter").subscribe,k=function(l,m){return b("DOMEventListener").add(l,"click",m)};Object.assign(h.prototype,{update:function l(m,n){this.busy=!1;var o=this.config;if(n.identifier===o.identifier){var p=m===b("Plugin").CONNECT,q=b("PlatformWidgetEndpoint").plugins(o.plugin);q+="/"+(p?"disconnect":"connect"),b("CSS")[p?"show":"hide"](this.node_connected),b("CSS")[p?"hide":"show"](this.node_disconnected);try{if("button"===document.activeElement.nodeName.toLowerCase()){var r=p?this.node_connected:this.node_disconnected,s=b("DOM").find(r,"button");s.disabled=!1,b("Focus").set(s)}}catch(t){}o.connected=p,o.form.setAttribute("action",q),o.form.setAttribute("ajaxify",q)}},error:function l(m,n){if(this.busy=!1,n.action in{connect:1,disconnect:1}){b("DOM").setContent(this.buttons,n.content);var o=b("DOM").scry(this.buttons,".confirmButton");1===o.length&&b("Focus").set(o[0])}},submit:function l(){return this.config.canpersonalize?void(b("FormSubmit").send(this.config.form),this.fireStateToggle()):this.login()},fireStateToggle:function l(){var m=this.config;m.connected?b("Plugin").disconnect(m.identifier):b("Plugin").connect(m.identifier)},login:function l(){var m=this.config.plugin;new(b("PluginOptin"))(m,b("URI").getRequestURI().getQueryData().api_key).addReturnParams({act:"connect"}).addLoginParams({social_plugin_action:this.config.pluginaction}).start()},flip:function l(m,n){var o=b("DOM").scry(document.body,"._4xn8");if(0!==o.length){o=o[0];var p,q=b("DOM").scry(this.config.form,".pluginConnectButtonConnected .pluginButtonIcon"),r="none"===b("Style").get(q[0],"display")?q[1]:q[0],s=b("DOM").find(document.body,".pluginConnectButtonLayoutRoot");"reposition"===n.type?(b("CSS").addClass(s,"_1f8a"),b("Style").set(s,"padding-left",450-s.offsetWidth+"px"),b("CSS").removeClass(s,"_1f8b"),p=b("getElementPosition")(r).x+b("DOMDimensions").getElementDimensions(r).width/2-6):(b("CSS").addClass(s,"_1f8b"),b("Style").set(s,"padding-left","0px"),b("CSS").removeClass(s,"_1f8a"),p=6),b("Style").set(o,"left",p+"px")}},hideFlyout:function l(){b("Focus").set(this.connected?this.node_disconnected:this.node_connected)}}),f.exports=h},null);
__d("PluginConnection",["Arbiter","CSS","Plugin"],function(a,b,c,d,e){b.__markCompiled&&b.__markCompiled();var f=function(){};Object.assign(f.prototype,{init:function g(h,j,k,l){return l=l||b("Plugin").CONNECT,this.identifier=h,this.element=j,this.css=k,b("Arbiter").subscribe([b("Plugin").CONNECT,b("Plugin").DISCONNECT],function(m,n){return h===n.href&&b("CSS")[m===l?"addClass":"removeClass"](j,k),!0}),this},connected:function g(){return b("CSS").hasClass(this.element,this.css)},connect:function g(){return b("Arbiter").inform(b("Plugin").CONNECT,{href:this.identifier},b("Arbiter").BEHAVIOR_STATE)},disconnect:function g(){return b("Arbiter").inform(b("Plugin").DISCONNECT,{href:this.identifier},b("Arbiter").BEHAVIOR_STATE)},toggle:function g(){return this.connected()?this.disconnect():this.connect()}}),f.init=function(g){for(var h,j=0;j<g.length;j++)h=new f,h.init.apply(h,g[j])},e.exports=f},null);
__d("BanzaiLogger",["Banzai"],function(a,b,c,d,e){function f(h){return{log:function i(j,k){b("Banzai").post(g._getRoute(j),k,h)},registerToSendWithBeacon:function i(j,k,l,m){b("Banzai").registerToSendWithBeacon(g._getRoute(j),k,l,m)},_getRoute:function i(j){return"logger:"+j}}}b.__markCompiled&&b.__markCompiled();var g=f();g.create=f,e.exports=g},null);
__d("PluginPageActionLogger",["BanzaiLogger","BanzaiODS","DOM","Event","PagePluginActions","PagePluginActionTypes"],function(a,b,c,d,e){b.__markCompiled&&b.__markCompiled(),e.exports={initializeClickLoggers:function f(g,h,i,j,k,l,m,n,o,p){var q=function(r,s){try{var t=b("DOM").find(j,"."+r);b("Event").listen(t,"click",function(){b("BanzaiODS").bumpEntityKey("platform_www","platform.plugin.page.action"),b("BanzaiLogger").log("PagePluginActionsLoggerConfig",{page_id:h,page_plugin_action:s,page_plugin_action_type:b("PagePluginActionTypes").CLICK,referer_url:i,is_sdk:g})})}catch(u){}};q(k,b("PagePluginActions").PAGE_LIKE),q(l,b("PagePluginActions").PAGE_UNLIKE),q(m,b("PagePluginActions").PAGE_AVATAR),q(n,b("PagePluginActions").PAGE_PERMALINK),q(o,b("PagePluginActions").PAGE_SHARE),q(p,b("PagePluginActions").PAGE_CTA)}}},null);
__d("UnverifiedXD",["XD"],function(a,b,c,d,e){b.__markCompiled&&b.__markCompiled();var f=b("XD").UnverifiedXD;e.exports=f},null);
__d("PluginResize",["Locale","Log","UnverifiedXD","getOffsetParent","getStyleProperty"],function(a,b,c,d,e){function f(j){j=j||document.body;var k=0,l=b("getOffsetParent")(j);return b("Locale").isRTL()&&l?k=l.offsetWidth-j.offsetLeft-j.offsetWidth:!b("Locale").isRTL()&&(k=j.offsetLeft),g(j)+k}function g(j){return Math.ceil(parseFloat(b("getStyleProperty")(j,"width")))||j.offsetWidth}function h(j){return j=j||document.body,j.offsetHeight+j.offsetTop}function i(j,k,l,m){this.calcWidth=j||f,this.calcHeight=k||h,this.width=void 0,this.height=void 0,this.reposition=!!m,this.event=l||"resize"}b.__markCompiled&&b.__markCompiled(),Object.assign(i.prototype,{resize:function j(){var k=this.calcWidth(),l=this.calcHeight();return(k!==this.width||l!==this.height)&&(b("Log").debug("Resizing Plugin: (%s, %s, %s, %s)",k,l,this.event,this.reposition),this.width=k,this.height=l,b("UnverifiedXD").send({type:this.event,width:k,height:l,reposition:this.reposition})),this},auto:function j(k){return setInterval(this.resize.bind(this),k||250),this}}),i.auto=function(j,k,l){return new i(f.bind(null,j),h.bind(null,j),k).resize().auto(l)},i.autoHeight=function(j,k,l,m){return new i(function(){return j},h.bind(null,k),l).resize().auto(m)},i.getElementWidth=g,e.exports=i},null);
__d("PluginReturn",["invariant","Arbiter","Log","PlatformDialog","Plugin","URI","PlatformWidgetEndpoint"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled(),b("Arbiter").subscribe(b("PlatformDialog").RESPONSE,function(i,j){return j.error_code?void b("Log").debug("Plugin Return Error (%s): %s",j.error_code,j.error_message||j.error_description):void b("Plugin").reload(j.plugin_reload)});var h={auto:function i(){b("Arbiter").subscribe(b("Plugin").RELOAD,function(j,k){var l="object"==typeof k?k.reloadUrl:k;h.reload(l)})},syncPlugins:function i(){b("Arbiter").subscribe(b("Plugin").RELOAD,function(j,k){k.crossFrame&&h.reload(k.reloadUrl,k.reload,k.identifier)})},reload:function(i,j,k){var l=b("URI").getRequestURI().removeQueryData("ret").removeQueryData("act").removeQueryData("hash").addQueryData("reload",j).addQueryData("id",k);if(i){var j=new(b("URI"))(i);b("PlatformWidgetEndpoint").isPluginEndpoint(j.getPath())?void 0:g(0),l.setPath(j.getPath()).addQueryData(j.getQueryData())}window.location.replace(l.toString())}};e.exports=h},null);
__d("PluginXDReady",["Arbiter","UnverifiedXD"],function(a,b,c,d,f){b.__markCompiled&&b.__markCompiled(),a.XdArbiter={handleMessage:function g(h){if(h.method)try{b("Arbiter").inform("Connect.Unsafe."+h.method,JSON.parse(h.params),b("Arbiter").BEHAVIOR_PERSISTENT)}catch(i){}}},b("UnverifiedXD").send({xd_action:"plugin_ready",name:window.name}),f.exports=null},null);
__d("areJSONRepresentationsEqual",[],function(c,d,e,f,g){d.__markCompiled&&d.__markCompiled(),g.exports=function(h,i){return JSON.stringify(h)==JSON.stringify(i)}},null);
__d("UIForm",["ArbiterMixin","BehaviorsMixin","DOM","Event","Form","Run","areJSONRepresentationsEqual","mixin"],function(a,b,c,d,e){var g,h;function f(i,j,k,l,m){h.constructor.call(this),this._root=i,this.controller=i,this._message=j,l&&(this._confirm_dialog=l,l.subscribe("confirm",this._handleDialogConfirm.bind(this)),b("DOM").prependContent(this._root,b("DOM").create("input",{type:"hidden",name:"confirmed",value:"true"}))),b("Run").onAfterLoad(function(){this._originalState=b("Form").serialize(this._root)}.bind(this)),this._forceDirty=k,this._confirmed=!1,this._submitted=!1,b("Event").listen(this._root,"submit",this._handleSubmit.bind(this)),m&&m.length&&this.enableBehaviors(m),b("Run").onBeforeUnload(this.checkUnsaved.bind(this),!0)}b.__markCompiled&&b.__markCompiled(),g=babelHelpers.inherits(f,b("mixin")(b("ArbiterMixin"),b("BehaviorsMixin"))),h=g&&g.prototype,f.prototype.getRoot=function(){return this._root},f.prototype._handleSubmit=function(){return this._confirm_dialog&&!this._confirmed?(this._confirm_dialog.show(),!1):!1!==this.inform("submit")&&(this._submitted=!0,!0)},f.prototype._handleDialogConfirm=function(){this._confirmed=!0,this._confirm_dialog.hide(),this._root.getAttribute("ajaxify")?b("Event").fire(this._root,"submit"):this._handleSubmit()&&this._root.submit()},f.prototype.reset=function(){this.inform("reset"),this._submitted=!1,this._confirmed=!1},f.prototype.isDirty=function(){if(this._submitted||!b("DOM").contains(document.body,this._root))return!1;if(this._forceDirty)return!0;if(!this._originalState)return!1;var i=b("Form").serialize(this._root);return!b("areJSONRepresentationsEqual")(i,this._originalState)},f.prototype.checkUnsaved=function(){return this.isDirty()?this._message:null},e.exports=a.UIForm||f},null);
__d("ReactSpeedHelper",["LogBuffer","ReactDOM"],function(a,b,c,d,e){b.__markCompiled&&b.__markCompiled(),e.exports={enableRenderMeasurements:function f(){b("ReactDOM").enableRenderMeasurements&&b("ReactDOM").enableRenderMeasurements()},getMetrics:function f(g,h){return b("LogBuffer").read("react_speed").filter(function(i){return(null==g||i.begin>=g)&&(null==h||i.end<=h)})}}},null);
__d("JSResourceReference",["Promise","Bootloader"],function(a,b,c,d,e){function f(g){this.$JSResourceReference1=g}b.__markCompiled&&b.__markCompiled(),f.prototype.getModuleId=function(){return this.$JSResourceReference1},f.prototype.load=function(){return new(b("Promise"))(function(g){b("Bootloader").loadModules.call(b("Bootloader"),[this.$JSResourceReference1],g,this.$JSResourceReference2||"JSResource: unknown caller")}.bind(this))},f.prototype.equals=function(g){return this===g||this.$JSResourceReference1==g.$JSResourceReference1},f.prototype.__setRef=function(g){return this.$JSResourceReference2=g,this},f.loadAll=function(g,h){for(var i={},j=!1,k=g,l=Array.isArray(k),m=0,k=l?k:k["function"==typeof Symbol?Symbol.iterator:"@@iterator"]();;){var n;if(l){if(m>=k.length)break;n=k[m++]}else{if(m=k.next(),m.done)break;n=m.value}var o=n,p=o.$JSResourceReference2;p&&(j=!0,i[p]=!0)}b("Bootloader").loadModules.call(b("Bootloader"),g.map(function(q){return q.getModuleId()}),h,j?Object.keys(i).join(":"):"JSResource: unknown caller")},e.exports=f},null);
__d('sourceMetaToString',[],function(a,b,c,d,e){b.__markCompiled&&b.__markCompiled(),e.exports=function(f,g){var h;return f.name?(h=f.name,f.module&&(h=f.module+'.'+h)):f.module&&(h=f.module+'.<anonymous>'),g&&f.line&&(h=(h?h:'<anonymous>')+':'+f.line,f.column&&(h+=':'+f.column)),h}},null);
__d("NavigationTimingHelper",["NavigationMetricsEnumJS","forEachObject","performance"],function(a,b,c,d,e){function f(g,h){var i={};return b("forEachObject")(b("NavigationMetricsEnumJS"),function(j){var k=h[j];k&&(i[j]=k+g)}),i}b.__markCompiled&&b.__markCompiled(),e.exports={getAsyncRequestTimings:function g(h){if(h&&b("performance").timing&&b("performance").getEntriesByName){var i=b("performance").getEntriesByName(h);return 0===i.length?void 0:f(b("performance").timing.navigationStart,i[0])}},getNavTimings:function g(){return b("performance").timing?f(0,b("performance").timing):void 0}}},null);
__d("ResourceTimingBootloaderHelper",["Bootloader","ResourceTimingMetricsEnumJS","ImageTimingHelper","URI","forEachObject","isEmpty","performance"],function(c,d,e,f,g){function h(p,q,r,s){if(d("performance").timing&&d("performance").getEntriesByType){var t={};s&&(t=d("ImageTimingHelper").getImageTimings(r).sort(function(K,L){return K.ts-L.ts}).reduce(function(K,L){return K[L.uri]?K:(K[L.uri]=L.pagelet,K)},{}));for(var u=d("performance").getEntriesByType("resource"),v=0,w=0,x=0,y=0;y<u.length;y++){var z=u[y];if(!(0>=z.duration||z.startTime<q)){var A="",B="",C="",D="",E="",F=z.initiatorType;switch(F){case"css":case"link":case"script":var G=m(z.name);if(B=G[0],A=G[1],!B||!A)continue;if("css"==A||"js"==A){D=A;var H=o[z.name]||w++;C=H+"_"+B}else{var I=l(z.name);E=I[0],D=I[1],C=v++ +"_"+E}break;case"img":C=v++ +"_"+j(z.name),D="img";break;case"iframe":C=x++ +"_"+j(z.name)+k(z.name),D="iframe";break;default:continue;}void 0==p[z.name]&&(p[z.name]=[]);var J={};d("forEachObject")(d("ResourceTimingMetricsEnumJS"),function(K){var L=z[K];L&&(J[K]=L+d("performance").timing.navigationStart)}),J.type=D,J.desc=C,"img"==D&&t.hasOwnProperty(z.name)&&(J.pagelet=t[z.name]),J.transferSize=z.transferSize,J.encodedBodySize=z.encodedBodySize,p[z.name].push(J)}}}}function j(p){var q=new(d("URI"))(p).getDomain();return q}function k(p){var q=new(d("URI"))(p).getPath();return q}function l(p){return[j(p),"img"]}function m(p){var q=p.match(/\/rsrc\.php\/.*\/([^\?]+)/);if(!q)return[];var r=q[1],s="",t=r.match(/\.(\w+)$/);return t&&(s=t[1]),[r,s]}d.__markCompiled&&d.__markCompiled();var n={},o={};g.exports={addBootloaderMetricsToResourceTimings:function p(){var q=0>=arguments.length||void 0===arguments[0]?{}:arguments[0],r=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],s=2>=arguments.length||void 0===arguments[2]||arguments[2];d("isEmpty")(o)&&(o=d("Bootloader").getURLToHashMap());var t={};d("forEachObject")(o,function(w,x){t[w]=x});var u={bootload:!0,js_exec:!0,start_bootload:!0,tag_bootload:!0},v=[];return d("forEachObject")(r,function(w,x){var y=x.indexOf("/");if(-1!==y){var z=x.substring(0,y);if(u[z]){v.push(x);var A=x.substring(y+1),B=t[A];B&&(B.startsWith("data:")&&(B="inlined resource: "+A),null==q[B]&&(q[B]=[{}]),q[B].forEach(function(C){C.bootloader_hash=A,C[z]=w}))}}}),s||v.forEach(function(w){return delete r[w]}),q},getLastTTIAndE2EImageResponseEnds:function p(q,r,s){var t={TTI:q,E2E:r};if(!d("performance").timing)return t;var u=s.filter(function(x){return x.ts<=q}).map(function(x){return x.uri}).reduce(function(x,y){return x[y]=!0,x},{}),v=s.map(function(x){return x.uri}).reduce(function(x,y){return x[y]=!0,x},{});for(var w in n)n[w].forEach(function(x){"img"===x.type&&(u[w]&&(t.TTI=Math.max(t.TTI,x.responseEnd)),v[w]&&(t.E2E=Math.max(t.E2E,x.responseEnd)))});return t},getMetrics:function p(q,r,s){return n={},d("isEmpty")(o)&&(o=d("Bootloader").getURLToHashMap()),h(n,q,r,s),n}}},null);
__d("TimeSliceHelper",["invariant","ArtilleryExperiments","LogBuffer","Map","ReactSpeedHelper","sourceMetaToString","forEachObject"],function(a,b,c,d,e){b.__markCompiled&&b.__markCompiled();var f=function(g,h){return Math.round(1000*(g-h))};e.exports={formatMetricsForTransport:function g(h){var i=[],j=[],k=[],l=new(b("Map")),m=new(b("Map")),n=0,o=function(q,r,s){var t;return r.has(q)?t=r.get(q):(t=s.length,r.set(q,t),s.push(q)),t},p=[];return null!=h&&h.forEach(function(q){var r=f(q.begin,n),s=f(q.end,q.begin);n=q.end;var t,u=o(q.name,l,i),v=[r,s,u],w=q.counters||{},z=Object.keys(w).filter(function(C){return 0!==w[C]}).sort();if(0<z.length){var A=z.join(),B=o(A,m,k);t=z.map(function(C){return w[C]}),t.unshift(B)}else t=[];q.id&&v.push(q.id),q.parentID&&v.push(q.parentID),p.push(v),j.push(t)}),{version:"compact",items:p,names:i,counters:j,counterSchemas:k}},getMetrics:function g(h,i,j,k){var l,m=b("LogBuffer").read("time_slice"),n=b("LogBuffer").read("time_slice_heartbeat"),o=b("ReactSpeedHelper").getMetrics().map(function(u){return babelHelpers["extends"]({},u,{desc:"React["+u.name+"]"})}),p=m.concat(n,o),q=[],r=function(u){var v;if(u.guard){var w=b("sourceMetaToString")(u),z=u.guard.toString();v=w?z+" at "+w:z}else v=u.desc?u.desc:"JS["+u.count+"]";var A={begin:u.begin,end:u.end,name:v,counters:u.counters};b("ArtilleryExperiments").artillery_timeslice_edges&&(A.id=u.id,A.parentID=u.parentID),q.push(A)},s=function(){l&&r(1==l.count?l.first:l),l=null},t=function(u,v){b("forEachObject")(v,function(w,z){var A=u[z]||0;u[z]=A+w})};return p.sort(function(u,v){return u.begin===v.begin?u.end===v.end?0:u.end-v.end:u.begin-v.begin}).forEach(function(u){h&&u.end<h||i&&u.begin>i||(u.end-u.begin<j?l&&u.begin-l.end<k?(l.end=u.end,l.count++,t(l.counters,u.counters)):(s(),l={begin:u.begin,end:u.end,count:1,first:u,guard:!1,id:void 0,parentID:void 0,counters:{}}):(s(),r(u)))}),s(),q}}},null);
__d("PerfXFlusher",["invariant","Banzai"],function(a,b,c,d,e,f,g){function h(k){j.forEach(function(l){return g(l in k,"PerfXFlusher: Field \"%s\" missing in the PerfX payload",l)})}b.__markCompiled&&b.__markCompiled();var i="perfx_custom_logger_endpoint",j=["perfx_page","perfx_page_type","lid"];e.exports={flush:function k(l){h(l),b("Banzai").post(i,l,{signal:!0})},registerToSendWithBeacon:function k(l){b("Banzai").registerToSendWithBeacon(i,l)}}},null);
__d("DataAttributeUtils",["DataStore","Parent"],function(a,b,c,d,e){b.__markCompiled&&b.__markCompiled();var f=[],g={LEGACY_CLICK_TRACKING_ATTRIBUTE:"data-ft",CLICK_TRACKING_DATASTORE_KEY:"data-ft",ENABLE_STORE_CLICK_TRACKING:"data-fte",IMPRESSION_TRACKING_CONFIG_ATTRIBUTE:"data-xt-vimp",IMPRESSION_TRACKING_CONFIG_DATASTORE_KEY:"data-xt-vimp",REMOVE_LEGACY_TRACKING:"data-ftr",getDataAttribute:function k(l,m){return h[m]?h[m](l):l.getAttribute(m)},setDataAttribute:function k(l,m,n){return j[m]?j[m](l,n):l.setAttribute(m,n)},getDataFt:function k(l){if(l.getAttribute(g.ENABLE_STORE_CLICK_TRACKING)){var m=b("DataStore").get(l,g.CLICK_TRACKING_DATASTORE_KEY);return m||(m=g.moveClickTrackingToDataStore(l,l.getAttribute(g.REMOVE_LEGACY_TRACKING))),m}return l.getAttribute(g.LEGACY_CLICK_TRACKING_ATTRIBUTE)},setDataFt:function k(l,m){return l.getAttribute(g.ENABLE_STORE_CLICK_TRACKING)?void b("DataStore").set(l,g.CLICK_TRACKING_DATASTORE_KEY,m):void l.setAttribute(g.LEGACY_CLICK_TRACKING_ATTRIBUTE,m)},moveXTVimp:function k(l){g.moveAttributeToDataStore(l,g.IMPRESSION_TRACKING_CONFIG_ATTRIBUTE,g.IMPRESSION_TRACKING_CONFIG_DATASTORE_KEY),f.push(l.id)},getXTrackableElements:function k(){for(var l=f.map(function(o){return document.getElementById(o)}).filter(function(o){return!!o}),m=document.querySelectorAll("[data-xt-vimp]"),n=0;n<m.length;n++)l.push(m[n]);return l},getDataAttributeGeneric:function k(l,m,n){var o=b("DataStore").get(l,n);return o===void 0?l.getAttribute(m):o},moveAttributeToDataStore:function k(l,m,n){var o=l.getAttribute(m);o&&(b("DataStore").set(l,n,o),l.removeAttribute(m))},moveClickTrackingToDataStore:function k(l,m){var n=l.getAttribute(g.LEGACY_CLICK_TRACKING_ATTRIBUTE);return n&&(b("DataStore").set(l,g.CLICK_TRACKING_DATASTORE_KEY,n),m&&l.removeAttribute(g.LEGACY_CLICK_TRACKING_ATTRIBUTE)),n},getClickTrackingParent:function k(l){var m=b("Parent").byAttribute(l,g.LEGACY_CLICK_TRACKING_ATTRIBUTE)||b("Parent").byAttribute(l,g.ENABLE_STORE_CLICK_TRACKING);return m},getClickTrackingElements:function k(l){return l.querySelectorAll("["+g.LEGACY_CLICK_TRACKING_ATTRIBUTE+"], ["+g.ENABLE_STORE_CLICK_TRACKING+"]")},getParentByAttributeOrDataStoreKey:function k(l,m,n){for(;l&&(!l.getAttribute||!l.getAttribute(m))&&b("DataStore").get(l,n)===void 0;)l=l.parentNode;return l}},h={"data-ft":g.getDataFt,"data-xt-vimp":function k(l){return g.getDataAttributeGeneric(l,"data-xt-vimp","data-xt-vimp")},"data-ad":function k(l){return g.getDataAttributeGeneric(l,"data-ad","data-ad")},"data-xt":function k(l){return g.getDataAttributeGeneric(l,"data-xt","data-xt")}},j={"data-ft":g.setDataFt,"data-xt":function k(l,m){b("DataStore").set(l,"data-xt",m)}};e.exports=g},null);
__d("pageLoadedViaSWCache",[],function(a,b,c,d,e){b.__markCompiled&&b.__markCompiled(),e.exports=function(){return 1===self.__SW_CACHE__}},null);
__d("PerfXLogger",["DataAttributeUtils","PerfXFlusher","NavigationMetrics","NavigationTimingHelper","Set","forEachObject","performanceAbsoluteNow","setTimeoutAcrossTransitions","pageLoadedViaSWCache"],function(a,b,c,d,e){b.__markCompiled&&b.__markCompiled();var f={},g={},h=["e2e","tti","all_pagelets_displayed","all_pagelets_loaded"],j={},k={_listenersSetUp:!1,_setupListeners:function l(){this._listenersSetUp||(this._subscribeToNavigationMetrics(),b("PerfXFlusher").registerToSendWithBeacon(function(){var m=[];return b("forEachObject")(f,function(n,o){if(!f[o].sent){var p=this.getPayload(o,"unload fired");null!=p&&m.push(p)}}.bind(this)),f={},m}.bind(this)),this._listenersSetUp=!0)},_init:function l(m){var n=m.lid;if(null!=n){var o=g[n];delete g[n],f[n]=babelHelpers["extends"]({tags:new(b("Set"))(o||[]),sent:!1},m),this._registerTimeoutSendback(n),this._setupListeners()}},initWithNavigationMetricsLID:function l(m,n){var o=b("NavigationMetrics").getFullPageLoadLid();if(o){if(this._init(babelHelpers["extends"]({},n,{lid:o})),m&&m.always)for(var p=0;p<m.always.length;p++)k.addTag(o,m.always[p]);if(m&&m.swCache&&b("pageLoadedViaSWCache")())for(var q=0;q<m.swCache.length;q++)k.addTag(o,m.swCache[q])}},init:function l(m,n){null!=n&&null!=m.lid&&(j[m.lid]=n),this._init(m)},addTag:function l(m,n){var o=f[m];return o?void o.tags.add(n):void(!g[m]&&(g[m]=[]),g[m].push(n))},addTagWithNavigationMetricsLID:function l(m){var n=b("NavigationMetrics").getFullPageLoadLid();n&&k.addTag(n,m)},_registerTimeoutSendback:function l(m){var n=this._getFetchStart(m),o=65000;null!=n&&(o-=b("performanceAbsoluteNow")()-n),b("setTimeoutAcrossTransitions")(function(){return this._uploadPayload(m,"sendback time out")}.bind(this),o)},_subscribeToNavigationMetrics:function l(){b("NavigationMetrics").addRetroactiveListener(b("NavigationMetrics").Events.EVENT_OCCURRED,function(m,n){!(m in f)||h.includes(n.event)&&n.hasOwnProperty("timestamp")&&null!=n.timestamp&&(f[m][n.event]=n.timestamp)}),b("NavigationMetrics").addRetroactiveListener(b("NavigationMetrics").Events.NAVIGATION_DONE,function(m,n){var o=n.serverLID;o in f&&(h.forEach(function(p){n.hasOwnProperty(p)&&null!=n[p]&&(f[o][p]=n[p])}),this._uploadPayload(o))}.bind(this))},_getPayloadWithOffset:function l(m,n,o){var p=f[m];if(null==p)return null;var q=Object.assign({},p),r=document.querySelector("[id^=\"hyperfeed_story_id\"]");if(r){var s=JSON.parse(b("DataAttributeUtils").getDataFt(r));s&&(q.mf_query_id=s.qid)}if(q.tags=Array.from(p.tags),this._adjustValues(q,n),q.fetch_start=n,"normal"===q.perfx_page_type){var t=b("NavigationTimingHelper").getNavTimings();null!=t&&null!=t.navigationStart&&(q.nav_to_fetch=n-t.navigationStart)}return null!=o&&(q.sendback_reason=o),delete q.sent,q},_uploadPayload:function l(m,n){if(null!=f[m]&&!f[m].sent){var o=this.getPayload(m,n);null!=o&&(b("PerfXFlusher").flush(o),f[m].sent=!0)}},getPayload:function l(m,n){return this._getPayloadWithOffset(m,this._getFetchStart(m),n)},_getFetchStart:function l(m){if(!(m in f))return null;var n,o=f[m].perfx_page_type;if("quickling"==o){if(!(m in j))return null;n=b("NavigationTimingHelper").getAsyncRequestTimings(j[m])}else n=b("NavigationTimingHelper").getNavTimings();return n&&n.fetchStart?n.fetchStart:null},_adjustValues:function l(m,n){h.forEach(function(o){m.hasOwnProperty(o)&&(m[o]-=n)})}};e.exports=k},null);